{% extends 'userpanel/base.html' %}


{% block script %}
    <script>
      function togglePasswordVisibility(inputId, iconId) {
        const passwordInput = document.getElementById(inputId);
        const passwordIcon = document.getElementById(iconId);

        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          passwordIcon.textContent = "ğŸ‘€";
        } else {
          passwordInput.type = "password";
          passwordIcon.textContent = "ï¸ï¸ğŸ‘ï¸";
        }
      }


    </script>
{% endblock %}

{% block massage%}
{% if messages %}
  <ul class="messages">
    {% for message in messages %}
      <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}
{% endblock %}

{% block content %}

   <table class="site-list-table">
      <thead>
        <tr>
          <th>Ù†Ø§Ù… Ø³Ø§ÛŒØª</th>
          <th>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ</th>
          <th>Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</th>
          <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
        </tr>
      </thead>
      <tbody>
      {% for website in user_websites %}
        <tr>
          <td>{{ website.website_url }}</td>
          <td>{{ website.site_username }}</td>
          <td>
           <input type="password" id="{{ website.website_url }}" value="{{ website.site_password }}" readonly>
            <button><span id="toggle{{ website.website_url }}" onclick="togglePasswordVisibility('{{ website.website_url }}', 'toggle{{ website.website_url }}')">ğŸ‘ï¸</span></button>
          </td>
          <td class="operations">
            <button>ÙˆÛŒØ±Ø§ÛŒØ´</button>
            <form method="POST" action="{% url 'delete_website' website.pk %}" class="delete-form">
              {% csrf_token %}
              <button type="submit" name="action" value="delete">Ø­Ø°Ù</button>
            </form>

              <a href="{% url 'website_panel'  website.pk %}" class="site_info__link">Ø¯Ø±ÛŒØ§ÙØª Ù…Ø­ØªÙˆØ§</a>
          </td>
        </tr>
         {% endfor %}
        <!-- Ø¯ÛŒÚ¯Ø± Ø±Ø¯ÛŒÙâ€ŒÙ‡Ø§ -->
      </tbody>
    </table>
{% endblock %}
